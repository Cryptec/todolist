(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{19:function(e,t,s){},25:function(e,t,s){},26:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){},49:function(e,t,s){},50:function(e,t,s){},74:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),r=s.n(n),i=s(40),c=s.n(i),o=(s(49),s(4)),d=s(5),l=s(7),u=s(6),j=(s(25),s(19),s(21)),h=s(10),b=s(43),p=s(76),m=Object(n.createContext)(),O=function(){return Object(n.useContext)(m)};function g(e){var t=e.children,s=Object(n.useState)([]),r=Object(j.a)(s,2),i=r[0],c=r[1];return Object(a.jsx)(m.Provider,{value:{tasks:i,addTask:function(e){return c([].concat(Object(b.a)(i),[{id:Object(p.a)(),task:e,complete:!1}]))},setStatusTask:function(e,t){c(i.map((function(s){return s.id===e?Object(h.a)(Object(h.a)({},s),{},{complete:t}):s})))}},children:t})}function x(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),s=t[0],r=t[1],i=O().addTask;return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(s),r("")},children:[Object(a.jsx)("input",{type:"text",value:s,placeholder:"New task...",onChange:function(e){return r(e.target.value)},required:!0}),Object(a.jsx)("button",{children:"Add"})]})}var f=s(42);function v(e){var t=e.id,s=e.task,n=e.complete,r=O().setStatusTask;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"checkbox",onChange:function(e){return r(t,e.target.checked)}})}),Object(a.jsx)("td",{children:Object(a.jsx)("span",{className:n?"task-done":"",children:s})}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{type:"button",className:"delButton",children:Object(a.jsx)(f.a,{})})})]})}function w(){var e=O().tasks;return Object(a.jsx)("table",{children:Object(a.jsx)("tbody",{children:e.map((function(e,t){return Object(a.jsx)(v,Object(h.a)({},e),t)}))})})}var S=function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("br",{}),Object(a.jsx)("h1",{className:"title",children:"Todo List"}),Object(a.jsx)("br",{}),Object(a.jsx)(x,{}),Object(a.jsx)(w,{})]})},y=s(9),C=s(2),N=(s(50),"jwt"),k=function(){return!!localStorage.getItem(N)},_=function(){localStorage.setItem(N,"TestLogin")},T=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleLogout=function(){localStorage.removeItem(N),a.props.history.push("/login"),a.setState({isLogin:!1})},a.state={isLogin:k()},a}return Object(d.a)(s,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("header",{className:"headerBar",children:this.state.isLogin?Object(a.jsx)("button",{className:"logoutButton",onClick:function(){return e.handleLogout()},children:"Logout"}):Object(a.jsx)(y.b,{to:"/login",onClick:function(){return e.handleLogout()}})}),Object(a.jsx)(S,{})]})}}]),s}(n.Component),L=s(22),q=function(e){var t=e.component,s=Object(L.a)(e,["component"]);return Object(a.jsx)(C.b,Object(h.a)(Object(h.a)({},s),{},{render:function(e){return k()?Object(a.jsx)(t,Object(h.a)({},e)):Object(a.jsx)(C.a,{to:"/login"})}}))},B=function(e){var t=e.component,s=e.restricted,n=Object(L.a)(e,["component","restricted"]);return Object(a.jsx)(C.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return k()&&s?Object(a.jsx)(C.a,{to:"/"}):Object(a.jsx)(t,Object(h.a)({},e))}}))},P=s(13),D=s(17),E=s.n(D),F=(s(38),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={email:"",password:"",confirm_password:"",status:"Request email"},e}return Object(d.a)(s,[{key:"render",value:function(){var e=this.state.status;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),method:"POST",children:[Object(a.jsxs)("div",{className:"orderContent",children:[Object(a.jsx)("span",{style:{fontWeight:"600"},children:"Forgot your password?"}),Object(a.jsx)(y.b,{to:"/login",onClick:function(){return J()},style:{fontSize:"1.5rem",textDecoration:"none",right:"30px",top:"20px",color:"white",position:"absolute"},children:" \u2716 "}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",className:"form-group-register",id:"email",value:this.state.email,onChange:this.handleChange.bind(this),required:!0,placeholder:" Enter your email*"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{label:"Enter your new password:",type:"password",className:"form-group-register",id:"new_pass",value:this.state.password,onChange:this.handleChange.bind(this),required:!0,placeholder:" set new password*"}),Object(a.jsx)("input",{label:"Confirm your new password:",type:"password",className:"form-group-register",id:"new_pass_re",value:this.state.confirm_password,onChange:this.handleChange.bind(this),required:!0,placeholder:" retype new password*"})]})]}),Object(a.jsx)("button",{className:"orderButton",children:e})]})})}},{key:"handleChange",value:function(e){var t=e.target.id;"email"===t?this.setState({email:e.target.value}):"new_pass"===t?this.setState({password:e.target.value}):"new_pass_re"===t&&this.setState({confirm_password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.password!==this.state.confirm_password)return alert("The passwords doesn't match"),!1;this.setState({status:"Requesting..."}),E()({method:"POST",url:"https://rust.mneubauer.com/forgot_password",headers:{"Content-Type":"application/json"},data:{email:this.state.email,password:this.state.password}}).then((function(e){"Success"===e.data.answer?(t.setState({email:"",password:"",confirm_password:"",status:"Submit"}),alert("Request sent")):"failed"===e.data.status&&alert("Request Failed")}))}}]),s}(n.Component)),R=(s(39),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"forgotbox",children:Object(a.jsxs)(P.d,{children:[Object(a.jsx)(P.b,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(P.a,{className:"orderButton",type:"submit",children:" Order key "}),Object(a.jsx)(y.b,{to:"/",className:"setNewButton",children:"Back"})]})}),Object(a.jsx)(P.c,{children:Object(a.jsx)(F,{})})]})})}}]),s}(n.Component));var I=function(){return Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)(R,{})})},U=(s(26),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).handleLogin=function(){_(),e.props.history.push("/")},e.state={name:"",password:"",status:"Submit",answerOk:"Success",answerDenied:"Denied"},e}return Object(d.a)(s,[{key:"render",value:function(){var e=this.state.status;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),method:"POST",children:[Object(a.jsxs)("div",{className:"loginContent",children:[Object(a.jsx)("div",{className:"loginTextBox",children:Object(a.jsxs)("span",{children:[Object(a.jsx)("br",{}),"Hello!",Object(a.jsx)("br",{}),"Nice, to have you back!"]})}),Object(a.jsx)("span",{style:{fontWeight:"600"},children:"Login"}),Object(a.jsxs)("div",{className:"textbox",children:[Object(a.jsx)("input",{type:"text",className:"form-group",id:"name",value:this.state.name,onChange:this.handleChange.bind(this),required:!0,placeholder:" Username"}),Object(a.jsx)("br",{className:"space"}),Object(a.jsx)("input",{type:"password",className:"form-group",id:"password",value:this.state.password,onChange:this.handleChange.bind(this),required:!0,placeholder:" Password"})]}),Object(a.jsx)(y.b,{to:"/forgot",onClick:function(){return I()},style:{fontSize:"0.8rem",textDecoration:"none",color:"white"},children:" forgot password? "})]}),Object(a.jsx)("button",{className:"loginButton",children:e})]})})}},{key:"handleChange",value:function(e){var t=e.target.id;"name"===t?this.setState({name:e.target.value}):"password"===t&&this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({status:"Submit"}),E()({method:"POST",url:"https://rust.mneubauer.com/login",headers:{"Content-Type":"application/json"},data:{name:this.state.name,password:this.state.password}}).then((function(e,s){console.log(e),e.data.answer===t.state.answerOk?(t.setState({name:"",password:"",status:"Logged in"}),t.handleLogin(),alert("Login Success")):e.data.answer===t.state.answerDenied&&(t.setState({password:"",status:"Logging in"}),alert("Wrong Username or Password"))}))}}]),s}(n.Component)),W=Object(C.g)(U),A=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).handleConfirmPassword=function(t){t.target.value!==e.state.regpassword&&(alert("error"),e.setState({regconfirm_password:t.target.value}))},e.state={regname:"",regpassword:"",regemail:"",regconfirm_password:"",regstatus:"Submit"},e}return Object(d.a)(s,[{key:"render",value:function(){var e=this.state.regstatus;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),method:"POST",children:[Object(a.jsxs)("div",{className:"registerContent",children:[Object(a.jsx)("span",{style:{fontWeight:"600"},children:"Register"}),Object(a.jsxs)("div",{className:"textbox",children:[Object(a.jsx)("input",{type:"text",className:"form-group-register",id:"regname",value:this.state.name,onChange:this.handleChange.bind(this),required:!0,placeholder:" Username*"}),Object(a.jsx)("input",{type:"text",className:"form-group-register",id:"regemail",value:this.state.email,onChange:this.handleChange.bind(this),required:!0,placeholder:" Enter your email*"}),Object(a.jsx)("input",{type:"password",className:"form-group-register",id:"regpassword",value:this.state.password,onChange:this.handleChange.bind(this),required:!0,placeholder:" Password*"}),Object(a.jsx)("input",{type:"password",className:"form-group-register",id:"regconfirm_password",value:this.state.confirm_password,onChange:this.handleChange.bind(this),required:!0,placeholder:" Confirm password*"})]})]}),Object(a.jsx)("button",{className:"registerButton",children:e})]})})}},{key:"handleChange",value:function(e){var t=e.target.id;"regname"===t?this.setState({regname:e.target.value}):"regemail"===t?this.setState({regemail:e.target.value}):"regpassword"===t?this.setState({regpassword:e.target.value}):"regconfirm_password"===t&&this.setState({regconfirm_password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.regpassword!==this.state.regconfirm_password)return alert("The passwords doesn't match"),!1;this.setState({status:"Submitting"}),E()({method:"POST",url:"https://rust.mneubauer.com/register",headers:{"Content-Type":"application/json"},data:{regname:this.state.regname,regpassword:this.state.regpassword,regemail:this.state.regemail}}).then((function(e){"Success"===e.data.answer?(t.setState({regname:"",regpassword:"",regconfirm_password:"",regemail:"",regstatus:"Submitted"}),alert("Form sent")):"Denied"===e.data.answer?alert("Wrong Username or Password"):"Name_Excist"===e.data.answer?alert("Username already exist"):"Email_Excist"===e.data.answer&&alert("There is already an account with this email")}))}}]),s}(n.Component),z=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"loginbox",children:Object(a.jsxs)(P.d,{children:[Object(a.jsx)(P.b,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(P.a,{className:"loginButton",type:"submit",children:" Login "}),Object(a.jsx)(P.a,{className:"registerButton",children:"Register"})]})}),Object(a.jsx)(P.c,{children:Object(a.jsx)(W,{})}),Object(a.jsx)(P.c,{children:Object(a.jsx)(A,{})})]})})}}]),s}(n.Component);var J=function(){return Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)(z,{})})},H=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(a.jsx)(y.a,{children:Object(a.jsxs)(C.d,{children:[Object(a.jsx)(q,{restricted:!1,component:T,path:"/",exact:!0}),Object(a.jsx)(B,{restricted:!0,component:J,path:"/login",exact:!0}),Object(a.jsx)(B,{restricted:!0,component:I,path:"/forgot",exact:!0})]})})}}]),s}(n.Component),M=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,77)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),a(e),n(e),r(e),i(e)}))};c.a.render(Object(a.jsx)(g,{children:Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(H,{})})}),document.getElementById("root")),M()}},[[74,1,2]]]);
//# sourceMappingURL=main.47e1b9a7.chunk.js.map