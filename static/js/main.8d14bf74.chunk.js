(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){},26:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){},49:function(e,t,s){},50:function(e,t,s){},74:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),r=s.n(a),i=s(40),c=s.n(i),o=(s(49),s(4)),d=s(5),l=s(7),u=s(6),h=(s(26),s(19),s(22)),j=s(10),b=s(43),m=s(76),p=Object(a.createContext)(),O=function(){return Object(a.useContext)(p)};function g(e){var t=e.children,s=Object(a.useState)([]),r=Object(h.a)(s,2),i=r[0],c=r[1];return Object(n.jsx)(p.Provider,{value:{tasks:i,addTask:function(e){return c([].concat(Object(b.a)(i),[{id:Object(m.a)(),task:e,complete:!1}]))},setStatusTask:function(e,t){c(i.map((function(s){return s.id===e?Object(j.a)(Object(j.a)({},s),{},{complete:t}):s})))}},children:t})}function x(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),s=t[0],r=t[1],i=O().addTask;return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(s),r("")},children:[Object(n.jsx)("input",{type:"text",value:s,placeholder:"New task...",onChange:function(e){return r(e.target.value)},required:!0}),Object(n.jsx)("button",{children:"Add"})]})}var f=s(42);function v(e){var t=e.id,s=e.task,a=e.complete,r=O().setStatusTask;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"checkbox",onChange:function(e){return r(t,e.target.checked)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:a?"task-done":"",children:s})}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{type:"button",className:"delButton",children:Object(n.jsx)(f.a,{})})})]})}function w(){var e=O().tasks;return Object(n.jsx)("table",{children:Object(n.jsx)("tbody",{children:e.map((function(e,t){return Object(n.jsx)(v,Object(j.a)({},e),t)}))})})}var S=function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("br",{}),Object(n.jsx)("h1",{className:"title",children:"Todo List"}),Object(n.jsx)("br",{}),Object(n.jsx)(x,{}),Object(n.jsx)(w,{})]})},y=s(9),C=s(2),k=(s(50),"jwt"),N=function(){return!!localStorage.getItem(k)},T=function(){localStorage.setItem(k,"TestLogin")},_=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleLogout=function(){localStorage.removeItem(k),n.props.history.push("/login"),n.setState({isLogin:!1})},n.state={isLogin:N()},n}return Object(d.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{className:"headerBar",children:this.state.isLogin?Object(n.jsx)("button",{className:"logoutButton",onClick:function(){return e.handleLogout()},children:"Logout"}):Object(n.jsx)(y.b,{to:"/login",onClick:function(){return e.handleLogout()}})}),Object(n.jsx)(S,{})]})}}]),s}(a.Component),L=s(23),P=function(e){var t=e.component,s=Object(L.a)(e,["component"]);return Object(n.jsx)(C.b,Object(j.a)(Object(j.a)({},s),{},{render:function(e){return N()?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(C.a,{to:"/login"})}}))},q=function(e){var t=e.component,s=e.restricted,a=Object(L.a)(e,["component","restricted"]);return Object(n.jsx)(C.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return N()&&s?Object(n.jsx)(C.a,{to:"/"}):Object(n.jsx)(t,Object(j.a)({},e))}}))},B=s(13),D=s(16),R=s.n(D),E=(s(38),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={email:"",password:"",confirm_password:"",status:"Request email"},e}return Object(d.a)(s,[{key:"render",value:function(){var e=this.state.status;return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),method:"POST",children:[Object(n.jsxs)("div",{className:"orderContent",children:[Object(n.jsx)("span",{style:{fontWeight:"600"},children:"Forgot your password?"}),Object(n.jsx)(y.b,{to:"/login",onClick:function(){return H()},style:{fontSize:"1.5rem",textDecoration:"none",right:"30px",top:"20px",color:"white",position:"absolute"},children:" \u2716 "}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"text",className:"form-group-register",id:"email",value:this.state.email,onChange:this.handleChange.bind(this),required:!0,placeholder:" Enter your email*"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{label:"Enter your new password:",type:"password",className:"form-group-register",id:"new_pass",value:this.state.password,onChange:this.handleChange.bind(this),required:!0,placeholder:" set new password*"}),Object(n.jsx)("input",{label:"Confirm your new password:",type:"password",className:"form-group-register",id:"new_pass_re",value:this.state.confirm_password,onChange:this.handleChange.bind(this),required:!0,placeholder:" retype new password*"})]})]}),Object(n.jsx)("button",{className:"orderButton",children:e})]})})}},{key:"handleChange",value:function(e){var t=e.target.id;"email"===t?this.setState({email:e.target.value}):"new_pass"===t?this.setState({password:e.target.value}):"new_pass_re"===t&&this.setState({confirm_password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.password!==this.state.confirm_password)return alert("The passwords doesn't match"),!1;this.setState({status:"Requesting..."}),R()({method:"POST",url:"https://rust.mneubauer.com/forgot_password",headers:{"Content-Type":"application/json"},data:{email:this.state.email,password:this.state.password}}).then((function(e){"Success"===e.data.answer?(t.setState({email:"",password:"",confirm_password:"",status:"Submit"}),alert("Request sent")):"failed"===e.data.status&&alert("Request Failed")}))}}]),s}(a.Component)),F=(s(39),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"forgotbox",children:Object(n.jsxs)(B.d,{children:[Object(n.jsx)(B.b,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(B.a,{className:"orderButton",type:"submit",children:" Order key "}),Object(n.jsx)(y.b,{to:"/",className:"setNewButton",children:"Back"})]})}),Object(n.jsx)(B.c,{children:Object(n.jsx)(E,{})})]})})}}]),s}(a.Component));var U=function(){return Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)(F,{})})},I=(s(20),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).handleLogin=function(){T(),e.props.history.push("/")},e.state={name:"",password:"",status:"Submit",answerOk:"Success",answerDenied:"Denied"},e}return Object(d.a)(s,[{key:"render",value:function(){var e=this.state.status;return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),method:"POST",children:[Object(n.jsxs)("div",{className:"loginContent",children:[Object(n.jsx)("div",{className:"loginTextBox",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("br",{}),"Hello!",Object(n.jsx)("br",{}),"Nice, to have you back!"]})}),Object(n.jsx)("span",{style:{fontWeight:"600"},children:"Login"}),Object(n.jsxs)("div",{className:"textbox",children:[Object(n.jsx)("input",{type:"text",className:"form-group",id:"name",value:this.state.name,onChange:this.handleChange.bind(this),required:!0,placeholder:" Username"}),Object(n.jsx)("br",{className:"space"}),Object(n.jsx)("input",{type:"password",className:"form-group",id:"password",value:this.state.password,onChange:this.handleChange.bind(this),required:!0,placeholder:" Password"})]}),Object(n.jsx)(y.b,{to:"/forgot",onClick:function(){return U()},style:{fontSize:"0.8rem",textDecoration:"none",color:"white"},children:" forgot password? "})]}),Object(n.jsx)("button",{className:"loginButton",children:e})]})})}},{key:"handleChange",value:function(e){var t=e.target.id;"name"===t?this.setState({name:e.target.value}):"password"===t&&this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({status:"Submit"}),R()({method:"POST",url:"https://rust.mneubauer.com/login",headers:{"Content-Type":"application/json"},data:{name:this.state.name,password:this.state.password}}).then((function(e,s){console.log(e),e.data.answer===t.state.answerOk?(t.setState({name:"",password:"",status:"Logged in"}),t.handleLogin(),alert("Login Success")):e.data.answer===t.state.answerDenied&&(t.setState({password:"",status:"Logging in"}),alert("Wrong Username or Password"))}))}}]),s}(a.Component)),W=Object(C.g)(I),A=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).handleConfirmPassword=function(t){t.target.value!==e.state.regpassword&&(alert("error"),e.setState({regconfirm_password:t.target.value}))},e.state={regname:"",regpassword:"",regemail:"",regconfirm_password:"",regstatus:"Submit"},e}return Object(d.a)(s,[{key:"render",value:function(){var e=this.state.regstatus;return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),method:"POST",children:[Object(n.jsxs)("div",{className:"registerContent",children:[Object(n.jsx)("span",{style:{fontWeight:"600"},children:"Register"}),Object(n.jsxs)("div",{className:"textbox",children:[Object(n.jsx)("input",{type:"text",className:"form-group-register",id:"regname",value:this.state.name,onChange:this.handleChange.bind(this),required:!0,placeholder:" Username*"}),Object(n.jsx)("input",{type:"text",className:"form-group-register",id:"regemail",value:this.state.email,onChange:this.handleChange.bind(this),required:!0,placeholder:" Enter your email*"}),Object(n.jsx)("input",{type:"password",className:"form-group-register",id:"regpassword",value:this.state.password,onChange:this.handleChange.bind(this),required:!0,placeholder:" Password*"}),Object(n.jsx)("input",{type:"password",className:"form-group-register",id:"regconfirm_password",value:this.state.confirm_password,onChange:this.handleChange.bind(this),required:!0,placeholder:" Confirm password*"})]})]}),Object(n.jsx)("button",{className:"registerButton",children:e})]})})}},{key:"handleChange",value:function(e){var t=e.target.id;"regname"===t?this.setState({regname:e.target.value}):"regemail"===t?this.setState({regemail:e.target.value}):"regpassword"===t?this.setState({regpassword:e.target.value}):"regconfirm_password"===t&&this.setState({regconfirm_password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.regpassword!==this.state.regconfirm_password)return alert("The passwords doesn't match"),!1;this.setState({status:"Submitting"}),R()({method:"POST",url:"https://rust.mneubauer.com/register",headers:{"Content-Type":"application/json"},data:{regname:this.state.regname,regpassword:this.state.regpassword,regemail:this.state.regemail}}).then((function(e){"Success"===e.data.answer?(t.setState({regname:"",regpassword:"",regconfirm_password:"",regemail:"",regstatus:"Submitted"}),alert("Form sent")):"Denied"===e.data.answer?alert("Wrong Username or Password"):"Name_Excist"===e.data.answer?alert("Username already exist"):"Email_Excist"===e.data.answer&&alert("There is already an account with this email")}))}}]),s}(a.Component),z=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"loginbox",children:Object(n.jsxs)(B.d,{children:[Object(n.jsx)(B.b,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(B.a,{className:"loginButton",type:"submit",children:" Login "}),Object(n.jsx)(B.a,{className:"registerButton",children:"Register"})]})}),Object(n.jsx)(B.c,{children:Object(n.jsx)(W,{})}),Object(n.jsx)(B.c,{children:Object(n.jsx)(A,{})})]})})}}]),s}(a.Component);var H=function(){return Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)(z,{})})},J=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){var e=window.location.search,t=new URLSearchParams(e),s=t.get("token"),a=t.get("token-forget");return null!=s||null!=a?(null!=s&&this.handleSubmit(s,!0),null!=a&&this.handleSubmit(a,!1),Object(n.jsx)("div",{children:Object(n.jsx)("form",{onSubmit:this.handleSubmit.bind(this),method:"POST",children:Object(n.jsxs)("div",{className:"redirectContent",children:["Success! ...Redirect...",Object(n.jsx)("div",{className:"textbox"})]})})})):Object(n.jsx)("div",{children:Object(n.jsx)("form",{onSubmit:this.handleSubmit.bind(this),method:"POST",children:Object(n.jsx)("div",{className:"redirectContent",children:"Hello! no access to this page!"})})})}},{key:"handleSubmit",value:function(e,t){setTimeout((function(){window.location.replace("/login")}),3e3)}}]),s}(a.Component),M=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(n.jsx)(y.a,{children:Object(n.jsxs)(C.d,{children:[Object(n.jsx)(P,{restricted:!1,component:_,path:"/",exact:!0}),Object(n.jsx)(q,{restricted:!0,component:J,path:"/verify",exact:!0}),Object(n.jsx)(q,{restricted:!0,component:H,path:"/login",exact:!0}),Object(n.jsx)(q,{restricted:!0,component:U,path:"/forgot",exact:!0})]})})}}]),s}(a.Component),G=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,77)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),r(e),i(e)}))};c.a.render(Object(n.jsx)(g,{children:Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(M,{})})}),document.getElementById("root")),G()}},[[74,1,2]]]);
//# sourceMappingURL=main.8d14bf74.chunk.js.map